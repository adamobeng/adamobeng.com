<!DOCTYPE html>


<html xml:lang="en" lang="en">
	<head>
		 <meta charset="utf-8" />
		 <title>HackNY Spring 2015 Hackathon One-Two</title>
		 <meta name="author" content="Adam Obeng" />
		<link rel="author" href="/humans.txt" />

		 <!-- syntax highlighting CSS -->
		 <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

		 <!-- Homepage CSS -->
		 <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />

		 <link rel="shortcut icon" href="/favicon.ico">

		 <!-- RSS autodiscovery http://www.rssboard.org/rss-autodiscovery -->
		 <!-- https://secure.wikimedia.org/wikipedia/en/wiki/Atom_%28standard%29 -->
		 <link rel="alternate" type="application/atom+xml" title="Adam Obeng"
		 href="/atom.xml">
		 <!-- Google Analytics -->
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-22741216-1']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>

		<!-- Typekit -->
		<script type="text/javascript" src="http://use.typekit.com/qjd5hyy.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	 </head>

	<body>
		<header class="main-header">
			<hggroup> <!-- In case I want a tagline -->
				<h1><a href="http://adamobeng.com">Adam Obeng</a></h1>
			</hggroup>
		</header>

	<div class="sidebar">
		<nav>
			<li>
				<ul><a href="/">Home</a></ul>
				<ul><a href="../blog.html" rel="archives">Blog</a></ul>
				<ul><a href="../projects.html">Projects</a></ul>
				<ul><a href="../me.html">About me</a></ul>
				<ul class="rss"><a href="../atom.xml">Feed</a><img src="/feed-icon-14x14.png"/></ul>
								</li>
				<div class="contact">
				<li>
					<ul><a href="mailto:contact@adamobeng.com" rel="author">Email</a></ul>
					<ul><a href="https://twitter.com/intent/follow?screen_name=Adam_Obeng&tw_p=followbutton&variant=2.0">Twitter</a><img id="twitter" src="/images//twitter-bird-light-bgs.png"></img></ul>
					<ul><a href="https://github.com/adamobeng?tab=repositories">Github</a><img id="github" src="/images/blacktocat-32.png"></img></ul>
					<!--
					<ul><a href="http://columbia.academia.edu/AdamObeng">Academia.edu</a></ul>
					-->
				</li>

				</div>
				<div class="copyright">Copyright &copy; Adam Obeng </br> 2010&ndash;2015 <span class="cc"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons Attribution-NonCommercial-ShareAlike License" style="border-width:0; vertical-align: text-top" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" /></a> <br />(unless otherwise stated)</span>
				</div>

		</nav>
	      </div>
			<div class="site">

			
				<article>
	<header>
	<h1>HackNY Spring 2015 Hackathon One-Two</h1>
	<time datetime="2015-03-09 00:00:00 -0400" pubdate> 09 Mar 2015 </time>

		| 

		<span class="categories">
		Categories:
		
		hackathon,
		
		projects
		
	      </span>
	</header>


	<h1 id="tldr">TL;DR</h1>

<p>I won second place at the <a href="http://hackny.org/a/spring2015hackathon/">HackNY Spring 2015 Hackathon</a> with <a href="/hackny-hackathon-runnerup/#x1f424x1f3b6-chirp">üê§üé∂ (chirp)</a>. And I also won <em>first</em> place with <a href="/hackny-hackathon-winner/#glapep8">GLaPEP8</a>(!) Apparently I‚Äôm the first person to win two podium places at a HackNY hackathon.</p>

<blockquote class="twitter-tweet" lang="en"><p>Congrats to GLaPEP8 for winning 1st place at <a href="https://twitter.com/hashtag/hackny?src=hash">#hackny</a> - Adam won first and second! <a href="http://t.co/WASGOlqmir">pic.twitter.com/WASGOlqmir</a></p>&mdash; Major League Hacking (@MLHacks) <a href="https://twitter.com/MLHacks/status/574648664532086784">March 8, 2015</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>The hackathon was a blast, I really love working full-out in an environment filled with people doing the same. It didn‚Äôt hurt to be surrounded by HackNYers, sponsors, and snacks.</p>

<h1 id="x1f424x1f3b6-chirp">üê§üé∂ (chirp)</h1>

<p><a href="http://challengepost.com/software/chirp">ChallengePost link</a>, <a href="https://github.com/adamobeng/chirp">GitHub repo</a>.</p>

<p>The first project I came up with is called ‚Äò üê§üé∂‚Äô. However, I couldn‚Äôt submit that name on ChallengePost, so I gave it the alternate title ‚Äò(chirp)‚Äô. That wasn‚Äôt the end of the issues caused by the name, however: I thought using it as a subdomain broke ngrok in the middle of the demos (but actually, it was <a href="https://twitter.com/inconshreveable/status/574580128308555776">just maintenance</a>. Still, a tense 20 minutes for many a demoer).</p>

<p><img src="/download/chirp-screenshot.png" alt="Screenshot of (chirp)" /></p>

<p>üê§üé∂ is a tool to reduce the length of potential tweets. It uses <a href="http://wordnet.princeton.edu/">WordNet</a> inside Python‚Äôs <a href="http://www.nltk.org/">NLTK</a> to find synonyms for each word in the provided text. For extra concision, it also suggests emoji which might replace some words, and offers to replace stopwords with the NUL character. You might think of this as similar to the lossy pscyhoacoustic compression used in MP3s, in that it retains the human-interpreted meaning while reducing the amount of data the machine needs to store. In reality, <a href="https://en.wikipedia.org/wiki/Semantic_compression">semantic compression</a> is a thing in NLP, but the approach used here is as-simple-as-possible, and aims not to reduce the total number of words needed to represent a corpus, but the total number of characters to represent a single text.<sup id="fnref:codepoint"><a href="#fn:codepoint" class="footnote">1</a></sup> I‚Äôve got a few ideas up my sleeve about how to improve it, though.</p>

<p>The process of developing this was surprisingly smooth. I‚Äôve used NLTK quite a bit in the past, the most difficult part was understanding WordNet‚Äôs jargon (e.g. what exactly lemmas are). I wanted to add a bunch of configuration options, for example to only replace with more-specific or less-specific terms (hyponyms or hypernyms). That didn‚Äôt make it into v0.1, but there are two options on the page: one to only suggest emojis, and <em>depth</em> which controls how many levels of synonym-of-synonym to suggest. The backend uses flask, a library I‚Äôve built so many projects with I can pretty much use it blindfolded.</p>

<p>The frontend was more complicated. It uses <a href="jquery.com">the usual suspect</a>, but instead of Twitter Boostrap or foundation, I went for the minimalist <a href="http://tuktuk.tapquo.com/">tuktuk</a>, which worked really well and looks delightful.</p>

<p>It took me quite a while to settle on how to display the suggested changes. I thought about just having a basic form which returns the edited text, maybe displayed side-by-side with the original. In the end, I decided that inline suggestions would be cooler, so I searched for a Javascript spelling correction library that would display the suggestions and UI while letting me handle the backend. This wasn‚Äôt so easy. Many plugins require you to have a static dictionary, which was no good for me, both for quick-iteration reasons and because there would need to be one dictionary for each combination of configuration options. All the other plugins I found used pre-existing spellcheck backends ‚Äî this isn‚Äôt so surprising, because who wants to build their own spellchecking engine (except perhaps <a href="http://norvig.com/spell-correct.html">Peter Norvig</a>). Worse than that, almost all of them supported the not-quite-public now-deprecated Google Spellchecker API.</p>

<p>That said, I did end up using <a href="https://github.com/brandonaaron/jquery-spellcheck">jquery-spellcheck by brandonaaron</a>, which does call the Google API. It was straightforward to make it use my backend, because the library uses a proxy script, which I just replaced with my own. Working out what to <em>serve</em> from the backend was less easy, however. As it turns out, defunct-and-never-quite-official APIs don‚Äôt have great documentation. I used the example return value in the documentation from <a href="https://code.google.com/p/google-api-spelling-java/">this Java library</a> to reverse-engineer the XML return format. For future reference, it looks<sup id="fnref:api"><a href="#fn:api" class="footnote">2</a></sup> like this:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
 <span class="nt">&lt;spellresult</span> <span class="na">error=</span><span class="s">&quot;0&quot;</span> <span class="na">clipped=</span><span class="s">&quot;0&quot;</span> <span class="na">charschecked=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- one &#39;c&#39; tag for each word which needs to be changed --&gt;</span>
    <span class="nt">&lt;c</span> <span class="na">o=</span><span class="s">&quot;0&quot;</span> <span class="na">l=</span><span class="s">&quot;6&quot;</span> <span class="na">s=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>hello  Helli   hell    hallo   hullo<span class="nt">&lt;/c&gt;</span>
    <span class="c">&lt;!-- attributes:</span>
<span class="c">        o: offset from beginning of string at which the replacement should happen</span>
<span class="c">        l: number of characters to replace (i.e. length of original word)</span>
<span class="c">        s: not sure</span>
<span class="c">    --&gt;</span>
    <span class="c">&lt;!--</span>
<span class="c">    The contents of the &#39;c&#39; tag is a space-delimited list of suggested</span>
<span class="c">    replacement words.</span>
<span class="c">    --&gt;</span>
 <span class="nt">&lt;/spellresult&gt;</span></code></pre></div>

<p>‚Äòcharschecked‚Äô doesn‚Äôt actually need to be set, and you can use any number of spaces between the suggested replacement words. If I end up working on üê§üé∂ more, I‚Äôm going to have to modify this format, because I‚Äôd like to be able to suggest replacments for phrases, not just single words.</p>

<p>I made minor modifications to jquery-spellcheck so that it sends additional URL-parameters on its AJAX call for the depth of synonyms and emoji-only mode.</p>

<p>On another note, I demoed this in Chrome Canary, because the stable version doesn‚Äôt have emoji support yet‚Ä¶ As a side effect of this project, I found to my surprise both in how many places you can use emoji (like some TLDs, although finding a registrar is another question), but also in how many places they <em>don‚Äôt</em> work.
I‚Äôm going to continue working on the synonym engine part of this because the frontend is pretty much done (and because for my own use I‚Äôd prefer a CLI). One interesting option is that ‚Äî given that WordNet doesn‚Äôt just give you synonyms but tells you <em>how</em> words are related ‚Äî I could replace words with more general (or perhaps more common) ones. This would be more similar to what semantic compression does. It would be cool to see whether replacing words with hypernyms results in something similar to the <a href="https://en.wikipedia.org/wiki/Wikipedia:Getting_to_Philosophy">Getting to Philosophy</a> effect on Wikipedia, where successively clicking the first link on an article will eventually lead you up the hierarchy of more-and-more general topics towards philosophy.<sup id="fnref:philosophy"><a href="#fn:philosophy" class="footnote">3</a></sup> Stay tuned <a href="https://github.com/adamobeng/chirp">via GitHub</a>.</p>

<p>Also, thanks to <a href="https://github.com/jzf2101">JZ Forde</a> for providing initial feedback and encouragement.</p>

<p>Next up: the winner, <a href="/hackny-hackathon-winner/#glapep8">GLaPEP8</a>.</p>

<div class="footnotes">
  <ol>
    <li id="fn:codepoint">
      <p>Actually, because we‚Äôre targeting Twitter, the aim is to minimise the <a href="https://dev.twitter.com/overview/api/counting-characters">number of codepoints in NFC-normalised format</a> (hence why emoji are useful to this goal). <a href="#fnref:codepoint" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:api">
      <p>Of course, this specification might only apply to the API as implemented in jquery-spellchecker‚Ä¶ <a href="#fnref:api" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:philosophy">
      <p>By the way, <a href="https://www.youtube.com/watch?v=tXCV_z_M0RA&amp;t=518">I called it</a> back in 2010. <a href="#fnref:philosophy" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

</article>

<!--
<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>20 Mar 2015</span> &raquo; <a href="..//sufficiently-advanced-spells">Sufficiently advanced spells</a></li>
    
      <li><span>09 Mar 2015</span> &raquo; <a href="..//hackny-hackathon-winner">HackNY Spring 2015 Hackathon &mdash; And the winner is...</a></li>
    
      <li><span>19 Jan 2013</span> &raquo; <a href="..//childs-play">Child's Play</a></li>
    
  </ul>
</div>
-->

				
				
				
			</div>


	</body>

</html>
